import re
import json

def parse_html(html_data, json_name):
    
    html_data = html_data.replace("<strong>Dane o obszarze</strong><p>", "")
    parsed_html = {}
    for item in html_data.split("</p><p>"):
        parsed_html.update({item.split("<span>")[0]: re.search(r'<span>(.*)</span>', item).group(1)})
    
    with open(json_name + ".json", 'w', encoding='utf-8') as fh:
        json.dump(parsed_html, fh, ensure_ascii=False)

if __name__ == "__main__":
    name = "28"
    data = "<strong>Dane o obszarze</strong><p>województwo<span>MAZOWIECKIE</span></p><p>powiat<span>WARSZAWA</span></p><p>gmina<span>ŚRÓDMIEŚCIE</span></p><p>typ gminy<span>DZIELNICA WARSZAWY</span></p><p>segment gminy<span>A1</span></p><p>kod gminy TERYT w wersji bez podziału na dzielnice<span>1465011</span></p><p>kod gminy z podziałem na dzielnice<span>1465108</span></p><p>typ miasta / lokalizacji<span>MIASTO</span></p><p>zasięg w km<span>0.3330</span></p><p>liczba budynków – suma<span>180</span></p><p>liczba budynków - mieszkalnych<span>74</span></p><p>liczba mieszkań - mieszkalnych według DataWise<span>2956</span></p><p>szacowana liczba mieszkańców razem<span>4799</span></p><p>średnia liczba osób na gospodarstwo domowe<span>1.96</span></p><p>gęstość zaludnienia osób na km2<span>14411</span></p><p>szacowany średni wiek mieszkańców razem<span>45.9</span></p><p>populacja - procent kobiet<span>55.82</span></p><p>populacja - procent mężczyzn<span>44.18</span></p><p>przykład: 4.13<span>4.23</span></p><p>populacja - procentowe kategorie wiekowe od 5 do 9 lat<span>4.11</span></p><p>populacja - kategorie wiekowe od 10 do 14 lat<span>3.33</span></p><p>populacja - procentowe kategorie wiekowe od 15 do 19 lat<span>2.92</span></p><p>populacja - procentowe kategorie wiekowe od 20 do 24 lat<span>3.33</span></p><p>populacja - procentowe kategorie wiekowe od 25 do 29 lat<span>4.75</span></p><p>populacja - procentowe kategorie wiekowe od 30 do 34 lat<span>8.59</span></p><p>populacja - kategorie wiekowe od 35 do 39 lat<span>8.63</span></p><p>populacja - procentowe kategorie wiekowe od 40 do 44 lat<span>8.02</span></p><p>populacja - procentowe kategorie wiekowe od 45 do 49 lat<span>6.02</span></p><p>populacja - procentowe kategorie wiekowe od 50 do 54 lat<span>4.92</span></p><p>populacja - procentowe kategorie wiekowe od 55 do 59 lat<span>5.31</span></p><p>populacja - procentowe kategorie wiekowe od 60 do 64 lat<span>10.42</span></p><p>populacja - procentowe kategorie wiekowe od 65 do 69 lat<span>8.44</span></p><p>populacja - procent kategorii wiekowych od 70 do 75 lat<span>5.48</span></p><p>populacja - procent kategorii wiekowych powyżej 75 lat<span>11.50</span></p><p>liczba firm prywatnych<span>1358</span></p><p>liczba firm KRS RAZEM<span>1443</span></p><p>szacunkowa liczba osób pracujących w obszarze<span>2706</span></p><p>wskaźnik atrakcyjności - średnia wartość dla obszaru chwytania<span>192</span></p><p>wskaźnik atrakcyjności - wartość dla punktu XY<span>185</span></p><p>liczba punktów POI - ogółem<span>120</span></p><p>liczba punktów POI - bankomat (bankomat)<span>6</span></p><p>liczba punktów POI - oddział banku<span>1</span></p><p>liczba punktów POI - centrum handlowe (centrum handlowe)<span>0</span></p><p>liczba punktów POI - kategoria edukacji ogółem<span>36</span></p><p>liczba punktów POI - przedszkole edukacyjne<span>5</span></p><p>liczba punktów POI - edukacja szkoła podstawowa<span>1</span></p><p>liczba punktów POI - szkoła średnia<span>6</span></p><p>liczba punktów POI - wykształcenie wyższe / uniwersytet<span>0</span></p><p>liczba punktów POI - suma detaliczna<span>11</span></p><p>liczba punktów POI - wygoda sprzedaży<span>6</span></p><p>liczba punktów POI - drogeria detaliczna (drogeria)<span>0</span></p><p>liczba punktów POI - sklep dyskontowy detaliczny<span>2</span></p><p>liczba punktów POI - hipermarket detaliczny<span>0</span></p><p>liczba punktów POI - supermarket detaliczny<span>0</span></p><p>liczba punktów POI - gry / zagrożenia / lotto<span>8</span></p><p>liczba punktów POI - HoReCa (hotele / restauracje / kawiarnia)<span>19</span></p><p>liczba punktów POI - miejsca kultu (kościół)<span>1</span></p><p>liczba punktów POI - poczta (poczta)<span>0</span></p><p>liczba punktów POI - rozrywka i kult<span>0</span></p><p>liczba punktów POI - stacja benzynowa (stacja paliw)<span>0</span></p><p>liczba punktów POI - stacja kolejowa transportu<span>0</span></p><p>liczba punktów POI - suma transportu<span>17</span></p><p>liczba punktów POI - przystanki transportu<span>14</span></p><p>liczba punktów POI - biuro / administracja publiczna<span>0</span></p><p>liczba punktów POI - suma zdrowia<span>11</span></p><p>liczba punktów POI - apteka zdrowia<span>2</span></p><p>liczba punktów POI - suma alco (sprzedaż detaliczna + horeca)<span>24</span></p><p>liczba punktów POI - sklep detaliczny<span>14</span></p><p>liczba punktów POI - alco horeca<span>10</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - bankomat (bankomat)<span>0</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - oddział banku<span>220</span></p><p>odległość w metrach do najbliższego POI (-1 = większa niż 5000 m) - centrum handlowe (centrum handlowe)<span>1208</span></p><p>odległość w metrach do najbliższego POI (-1 = większa niż 5000 m) - kategoria edukacji ogółem<span>36</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - przedszkole edukacyjne<span>135</span></p><p>odległość w metrach do najbliższego POI (-1 = więcej niż 5000 m) - szkoła podstawowa edukacji<span>327</span></p><p>odległość w metrach do najbliższego POI (-1 = więcej niż 5000 m) - szkoła średnia edukacyjna<span>36</span></p><p>odległość w metrach do najbliższego punktu POI (-1 = większa niż 5000 m) - wykształcenie wyższe / uniwersytet<span>538</span></p><p>odległość w metrach do najbliższego POI (-1 = więcej niż 5000 m) - suma detaliczna<span>0</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - wygoda sprzedaży detalicznej<span>227</span></p><p>odległość w metrach do najbliższego POI (-1 = więcej niż 5000 m) - drogeria w sklepie (drogeria)<span>334</span></p><p>odległość w metrach do najbliższego punktu POI (-1 = większy niż 5000 m) - detaliczny sklep dyskontowy<span>0</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - hipermarket handlowy<span>1533</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - supermarket detaliczny<span>1047</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - gry / hazard / lotto<span>124</span></p><p>odległość w metrach do najbliższego POI (-1 = większa niż 5000 m) - HoReCa (hotele / restauracje / kawiarnia)<span>179</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - miejsca kultu (kościół)<span>215</span></p><p>odległość w metrach do najbliższego POI (-1 = większa niż 5000 m) - poczta (poczta)<span>580</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - rozrywka i kult<span>238</span></p><p>odległość w metrach do najbliższego POI (-1 = większe niż 5000 m) - stacja benzynowa (stacja paliw)<span>649</span></p><p>odległość w metrach do najbliższego punktu POI (-1 = większa niż 5000 m) - suma transportu<span>211</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - stacja kolejowa transportu<span>1525</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - zatrzymuje się transport<span>211</span></p><p>odległość w metrach do najbliższego POI (-1 = więcej niż 5000 m) - biuro / administracja publiczna<span>229</span></p><p>odległość w metrach do najbliższego POI (-1 = więcej niż 5000 m) - suma zdrowia<span>122</span></p><p>odległość w metrach do najbliższego POI (-1 = większy niż 5000 m) - apteka zdrowia<span>262</span></p>"
    parse_html(data, name)
